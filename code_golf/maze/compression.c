r,y,c[31][31];d(x,y){int b=0;for(;;){if((r=rand()%4)>2){if(c[y][x-2]){c[y][x-1]=c[y][x-2]=0;d(x-2,y);}else b|=8;}else if(r>1){if(c[y+2][x]){c[y+1][x]=c[y+2][x]=0;d(x,y+2);}else b|=4;}else if(r>0){if(c[y][x+2]){c[y][x+1]=c[y][x+2]=0;d(x+2,y);}else b|=2;}else{if(c[y-2][x]){c[y-1][x]=c[y-2][x]=0;d(x,y-2);}else b|=1;}if(14<b)return;}}main(x){for(;++y<30;srand(time(0)))for(x=1;x<30;)c[y][x++]=1;d(2,2);for(y=0;y++<31;puts(""))for(x=0;x<31;putchar(c[y-1][x++]?33:32));}
